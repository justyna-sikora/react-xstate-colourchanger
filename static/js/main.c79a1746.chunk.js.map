{"version":3,"sources":["dmAppointmentPlus.ts","index.tsx"],"names":["cancel","actions","say","text","send","_context","type","value","console","log","grammar","person","day","time","boolGrammar","confirm","context","confirmWholeDay","promptAndAsk","prompt","initial","states","entry","on","ENDSPEECH","target","assign","count","ask","delay","id","dmMachine","init","CLICK","help","always","maxspeech1","RECOGNISED","cond","recResult","hist","welcome","query","MAXSPEECH","invoke","src","event","nluRequest","fetch","Request","proxyurl","method","headers","body","then","data","json","onDone","intentbest","onError","menu","intent","name","nomatch","TODOitem","Timer","Appointment","who","prompt1","prompt2","prompt3","maxspeech","duration","confirm_meeting_whole_day","confirm_time","confirmed","inspect","url","iframe","machine","Machine","dm","asrtts","idle","LISTEN","SPEAK","ttsAgenda","recognising","exit","ASRRESULT","progress","match","speaking","recLogResult","test","logIntent","nluData","ReactiveButton","props","state","matches","className","style","animation","App","useSpeechSynthesis","onEnd","speak","useSpeechRecognition","onResult","result","listen","stop","listening","useMachine","devTools","recStart","asEffect","interimResults","continuous","recStop","changeColour","document","background","ttsStart","effect","ttsCancel","current","onClick","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.c79a1746.chunk.js","sourcesContent":["import { MachineConfig, send, Action, assign, actions } from \"xstate\";\nimport { mapContext } from \"xstate/lib/utils\";\n//import { cancel } from \"xstate/lib/actionTypes\";\nconst { cancel } = actions;\n\nconst proxyurl = \"https://cors-anywhere.herokuapp.com/\";\nconst rasaurl = 'https://assignment2nlu.herokuapp.com/model/parse'\nconst nluRequest = (text: string) =>\n    fetch(new Request(proxyurl + rasaurl, {\n        method: 'POST',\n        headers: { 'Origin': 'http://localhost:3000/react-xstate-colourchanger' }, // only required with proxy\n        body: `{\"text\": \"${text}\"}`\n    }))\n        .then(data => data.json());\n\nconst obj = { counter: 0 }\nconsole.log(obj.counter)\n\n\n\nfunction say(text: string): Action<SDSContext, SDSEvent> {\n    return send((_context: SDSContext) => ({ type: \"SPEAK\", value: text }))\n}\n\n\nfunction listen(): Action<SDSContext, SDSEvent> {\n    return send('LISTEN')\n}\n\nconst grammar: { [index: string]: { person?: string, day?: string, time?: string } } = {\n    \"John\": { person: \"John Appleseed\" },\n    \"Ridley\": { person: \"Ridley Scott\" },\n    \"Steven\": { person: \"Steven Spielberg\" },\n    \"Wes\": { person: \"Wes Andreson\" },\n    \"Stanley\": { person: \"Stanley Kubrick\" },\n    \"David\": { person: \"David Lynch\" },\n    \"Ingmar\": { person: \"Ingmar Bergman\" },\n    \"Alfred\": { person: \"Alfred Hitchcock \"},\n    \"Tim\": { person: \"Tim Burton\" },\n\n    \"on Friday\": { day: \"Friday\" },\n    \"on Monday\": { day: \"Monday\" },\n    \"Monday\": { day: \"Monday\"},\n    \"Friday\": { day: \"Friday\" },\n    \"Tuesday\": { day: \"Tuesday\" },\n    \"Thursday\": { day: \"Thursday\" },\n    \"on Tuesday\": { day: \"Tuesday\" },\n    \"on Wednesday\": { day: \"Wednesday\" },\n    \"Wednesday\": { day: \"Wednesday\" },\n    \"on Thursday\": { day: \"Thursday\" },\n    \"on Saturday\": { day: \"Saturday\" },\n    \"Saturday\": { day: \"Saturday\" },\n    \"on Sunday\": { day: \"Sunday\" },\n    \"Sunday\": { day: \"Sunday\" },\n\n    \"6\": { time: \"6:00\" },\n    \"at 6\": { time: \"6:00\" },\n    \"7\": { time: \"7:00\" },\n    \"at 7\": { time: \"7:00\" },\n    \"8\": { time: \"8:00\" },\n    \"at 8\": { time: \"8:00\" },\n    \"9\": { time: \"9:00\" },\n    \"at 9\": { time: \"9:00\" },\n    \"10\": { time: \"10:00\" },\n    \"at 10\": { time: \"10:00\" },\n    \"11\": { time: \"11:00\" },\n    \"at 11\": { time: \"11:00\" },\n    \"12\": { time: \"12:00\" },\n    \"at 12\": { time: \"12:00\" },\n    \"13\": { time: \"1:00 pm\" },\n    \"at 13\": { time: \"1:00 pm\" },\n    \"14\": { time: \"2:00 pm\" },\n    \"at 14\": { time: \"2:00 pm\" },\n    \"15\": { time: \"3:00 pm\" },\n    \"at 15\": { time: \"3:00 pm\" },\n    \"16\": { time: \"4:00 pm\" },\n    \"at 16\": { time: \"4:00 pm\" },\n    \n}\n\nconst boolGrammar = {\n      \"yes\": true,\n      \"of course\": true,\n      \"yep\": true,\n      \"sure\": true,\n      \"that's right\": true,\n      \"nope\": false,\n      \"no\": false,\n      \"no way\": false,\n      \"never\": false,\n}\n\n\n\n\nconst confirm: Action<SDSContext, SDSEvent> = send((context: SDSContext) => ({\n    type: \"SPEAK\", value: `Do you want to create an appointment with ${context.person} on ${context.day} at ${context.time}?`\n}))\n\nconst confirmWholeDay: Action<SDSContext, SDSEvent> = send((context: SDSContext) => ({\n    type: \"SPEAK\", value: `Do you want to create an appointment with ${context.person} on ${context.day} for the whole day?`\n}))\n\n\n\nfunction promptAndAsk(prompt: string): MachineConfig<SDSContext, any, SDSEvent> {\n    return ({\n        initial: 'prompt',\n        states: {\n            prompt: {\n                entry: say(prompt),\n                on: {  ENDSPEECH:  [{\n                    target: \"ask\",\n                    actions: assign((context) => { return {count: context.count + 1 }})\n                    },\n                    ]}\n            },\n            ask: {\n                entry: [send('LISTEN'), \n                send ('MAXSPEECH', {\n                      delay: 5000  ,\n                    id: 'maxsp'})],\n            },\n        }\n    })\n}\n\n\n\nconst commands = {\"stop\": \"S\", \"help\": \"H\"}\n\nexport const dmMachine: MachineConfig<SDSContext, any, SDSEvent> = ({\n    initial: 'init',\n    states: {\n        init: {\n            on: {\n                CLICK: 'ask'\n            }\n        }, \n        help: {\n            entry: say(\"It seems that you need some help. Let's try again.\"),\n            always:[{target: 'ask.hist', actions: assign((context) => { return {count: (context.count - 1) }}) }] },\n\n        maxspeech1: {\n            entry: say(\"Sorry\"),\n            on: { 'ENDSPEECH': 'ask.hist' },  \n\n        },\n        ask: {\n        initial: 'welcome',\n            on: {RECOGNISED: \n                    { target: 'help', \n                    cond: (context) => context.recResult === 'help' },},\n            states: {\n                hist: { type: \"history\" },\n                welcome: {\n                    entry: assign((context) => { return {count: 0 }}),\n                    id: \"wlcm\",\n                    initial: \"prompt\",\n                    on: { RECOGNISED: \n                            { target: 'query',\n                            cond: (context) => !(context.recResult === 'help'),\n                            actions: [cancel('maxsp'), assign((context) => { return {count: 0 }}), assign((context) => { return { query: context.recResult } })],\n                            },\n                        MAXSPEECH: '#root.dm.maxspeech1'\n                    },\n                    states: {\n                        prompt: {\n                                ...promptAndAsk(\"What would you like to do?\")\n                            ,\n                            on: { ENDSPEECH: {actions: assign((context) => { return {count: 0 }})} }\n                        },\n                        \n                          \n                        }\n            },\n            query: {\n                invoke: {\n                    id: 'rasa',\n                    src: (context, event) => nluRequest(context.query),\n                    onDone: {\n                        target: 'menu',\n                        cond: (context) => !(context.recResult === 'help'),\n                        actions: [assign((context, event) => { return {intentbest: event.data }}),\n                                (context:SDSContext, event:any) => console.log(event.data), cancel('maxsp')]\n                    },\n                    onError: {\n                        target: '#wlcm',\n                        cond: (context) => !(context.recResult === 'help'),\n                        actions: (context,event) => console.log(event.data)\n                         }\n                    }\n            },\n\t        menu: {\n                initial: \"prompt\",\n                on: {\n                    ENDSPEECH: [{\n                    cond: (context) => context.intentbest.intent.name === \"timer\",\n                    target: \"Timer\"\n                    },\n                    {cond: (context) => context.intentbest.intent.name === \"todo_item\",\n                    target: \"TODOitem\"\n                    },\n                    {cond: (context) => context.intentbest.intent.name === \"appointment\",\n                    target: \"Appointment\"\n                    },\n                    { target: \".nomatch\",\n                    cond: (context) => !(context.recResult === 'help')}]\n                },\n                states: {\n                    prompt: {\n                        entry: send((context) => ({\n                            type: \"SPEAK\",\n                            value: `OK, noted!`\n                        }))\n                    },\n                    nomatch: {entry: say(\"Oh sorry, I can't help you with that at the moment. Let's start over\"),\n                        on: { ENDSPEECH: \"#wlcm\" }\n                        },\n                    }\n            },\n            TODOitem: {\n                initial: \"prompt\",\n                on: { ENDSPEECH: \"#root.dm.init\" },\n                states: {\n                    prompt: { entry: say(\"Welcome to the To do item app\")\n                    }\n                }\n            },\n            Timer: {\n                initial: \"prompt\",\n                on: { ENDSPEECH: \"#root.dm.init\" },\n                states: {\n                    prompt: { entry: say (\"Welcome to the Timer app\")\n                    }\n                }\n            },\n            Appointment: {\n                initial: \"prompt\",\n                on: { ENDSPEECH: \"#who\" },\n                states: {\n                    prompt: { entry: say(\"Let's create an appointment\") \n                    }\n                }\n            },\n            who: {\n                id: 'who',\n                initial: \"prompt\",\n                on: {\n                    RECOGNISED: [{\n                        cond: (context) => \"person\" in (grammar[context.recResult] || {}),\n                        actions: [cancel('maxsp'), assign((context) => { return {count: 0 }}), assign((context) => { return { person: grammar[context.recResult].person } })],\n                        target: \"day\"},\n                        { target: \".maxspeech\",\n                        actions: cancel('maxsp'),\n                        cond: (context) => !(context.recResult === 'help') }],\n                    MAXSPEECH: '.maxspeech'\n                        },\n                states: {\n                        prompt: {...promptAndAsk(\"Who are you meeting with?\")\n                        },\n                        prompt1: {\n                            ...promptAndAsk(\"Who is is that you are meeting?\")\n                        },\n                        prompt2: {\n                            ...promptAndAsk(\"Did you want to meet with someone?\")\n                        },\n                        prompt3: {\n                            ...promptAndAsk(\"Ok, last chance. Who are you meeting with?\")\n                        },\n                        maxspeech: {\n                            entry: say(\"Sorry\"),\n                            on: { ENDSPEECH : [{\n                                cond: (context) => context.count === 0,\n                                target: \"prompt\"},\n                                {\n                                cond: (context) => context.count === 1,\n                                target: \"prompt1\"},\n                \n                                { target: \"prompt2\",\n                                cond: (context) => context.count === 2},\n                \n                                { target: \"prompt3\",\n                                cond: (context) => context.count === 3},\n                            \n                                { target: \"#root.dm.init\",\n                                cond: (context) => context.count === 4},\n                                \n                            ]}\n                        },\n                        \n                    }\n            },\n            day: {\n                initial: \"prompt\",\n                on:{ \n                    RECOGNISED: [{\n                        cond: (context) => \"day\" in (grammar[context.recResult] || {}),\n                        actions: [cancel('maxsp'), assign((context) => { return {count: 0 }}), assign((context) => { return { day: grammar[context.recResult].day } })],\n                        target: \"duration\"\n                        },\n                        { target: \".maxspeech\",\n                        actions: cancel('maxsp'),\n                        cond: (context) => !(context.recResult === 'help') }],\n                    MAXSPEECH: '.maxspeech'\n                },\n                states: {\n                        prompt: {...promptAndAsk(\"When is your meeting?\")\n                        },\n                        prompt1: {\n                            ...promptAndAsk(\"When do you want to create a meeting?\")\n                        },\n                        prompt2: {\n                            ...promptAndAsk(\"On which day is your appointment?\")\n                        },\n                        prompt3: {\n                            ...promptAndAsk(\"Ok, last chance. On which day is your meeting?\")\n                        },\n                    \n                        maxspeech: {\n                            entry: say(\"Sorry\"),\n                            on: { ENDSPEECH : [{\n                                cond: (context) => context.count === 0,\n                                target: \"prompt\"},\n                                {\n                                cond: (context) => context.count === 1,\n                                target: \"prompt1\"},\n                \n                                { target: \"prompt2\",\n                                cond: (context) => context.count === 2},\n                \n                                { target: \"prompt3\",\n                                cond: (context) => context.count === 3},\n                            \n                                { target: \"#root.dm.init\",\n                                cond: (context) => context.count === 4},\n                                \n                            ]}\n                        },\n                    }\n            },\n            duration: {\n                initial: \"prompt\",\n                on: {\n                    RECOGNISED: [{cond: (context) => (boolGrammar[context.recResult] === false),\n                        target: \"time\",\n                        actions: [cancel('maxsp'),assign((context) => { return {count: 0 }}),]\n                        },\n                        {cond: (context) => (boolGrammar[context.recResult] === true),\n                        target: \"confirm_meeting_whole_day\",\n                        actions: [cancel('maxsp'), assign((context) => { return {count: 0 }}),]\n                        },\n                        { target: \".maxspeech\",\n                        actions: cancel('maxsp'),\n                        cond: (context) => !(context.recResult === 'help') }],\n                    MAXSPEECH: '.maxspeech'\n                },\n                states: {\n                    prompt: {...promptAndAsk(\"Ok,  will it take the whole day?\")\n                    },\n                    prompt1: {\n                        ...promptAndAsk(\"Will your meeting take the whole day?\")\n                    },\n                    prompt2: {\n                        ...promptAndAsk(\"Do you think your meeting will last the whole day?\")\n                    },\n                    prompt3: {\n                        ...promptAndAsk(\"Ok, last chance. Will it take the whole day?\")\n                    },\n                    maxspeech: {\n                        entry: say(\"Sorry\"),\n                        on: { ENDSPEECH : [{\n                            cond: (context) => context.count === 0,\n                            target: \"prompt\"},\n                            {\n                            cond: (context) => context.count === 1,\n                            target: \"prompt1\"},\n            \n                            { target: \"prompt2\",\n                            cond: (context) => context.count === 2},\n            \n                            { target: \"prompt3\",\n                            cond: (context) => context.count === 3},\n                        \n                            { target: \"#root.dm.init\",\n                            cond: (context) => context.count === 4},\n                            \n                        ]}\n                    },\n                }\n            },\n\t        time: {\n                initial: \"prompt\",\n                on: { RECOGNISED: [{\n                        cond: (context) => \"time\" in (grammar[context.recResult] || {}),\n                        actions: [cancel('maxsp'), assign((context) => { return {count: 0 }}), assign((context) => { return { time: grammar[context.recResult].time } })],\n                        target: \"confirm_time\"\n                        },\n                        { target: \".maxspeech\",\n                        actions: cancel('maxsp'),\n                        cond: (context) => !(context.recResult === 'help') }],\n                    MAXSPEECH: '.maxspeech'\n                },\n                states: {\n                    prompt: {...promptAndAsk(\"What time is yout meeting?\")\n                    },\n                    prompt1: {\n                        ...promptAndAsk(\"When exactly do you want to create an appointment?\")\n                    },\n                    prompt2: {\n                        ...promptAndAsk(\"When does your meeting start?\")\n                    },\n                    prompt3: {\n                        ...promptAndAsk(\"Ok, last chance. What time is your meeting\")\n                        \n                    },\n                    maxspeech: {\n                        entry: say(\"Sorry\"),\n                        on: { ENDSPEECH : [{\n                            cond: (context) => context.count === 0,\n                            target: \"prompt\"},\n                            {\n                            cond: (context) => context.count === 1,\n                            target: \"prompt1\"},\n            \n                            { target: \"prompt2\",\n                            cond: (context) => context.count === 2},\n            \n                            { target: \"prompt3\",\n                            cond: (context) => context.count === 3},\n                        \n                            { target: \"#root.dm.init\",\n                            cond: (context) => context.count === 4},\n                            \n                        ]}\n                    },\n                }\n            },\n\t        confirm_meeting_whole_day: {\n                initial: \"prompt\",\n                on: {\n                    RECOGNISED: [{cond: (context) => (boolGrammar[context.recResult] === false),\n                        target: \"#root.dm.init\",\n                        actions: cancel('maxsp')\n                        },\n                        {cond: (context) => (boolGrammar[context.recResult] === true),\n                        target: \"#confirmed\",\n                        actions: cancel('maxsp')\n                        },\n                        { target: \".maxspeech\",\n                        actions: cancel('maxsp'),\n                        cond: (context) => !(context.recResult === 'help') }],\n                    MAXSPEECH: '.maxspeech'\n                },\n                states: {\n                    prompt: {entry: confirmWholeDay, ...promptAndAsk(\"Do you want to create this meeting?\")\n                    },\n                    prompt1: {entry: confirmWholeDay,\n                        ...promptAndAsk(\"Are your sure you want to create this meeting?\")\n                    },\n                    prompt2: {entry: confirmWholeDay,\n                        ...promptAndAsk(\"Do you want me to create this appointment?\")\n                    },\n                    prompt3: {entry: confirmWholeDay,\n                        ...promptAndAsk(\"Ok, last chance. Do you want to create this meeting?\")\n                    },\n                    maxspeech: {\n                        entry: say(\"Sorry\"),\n                        on: { ENDSPEECH : [{\n                            cond: (context) => context.count === 0,\n                            target: \"prompt\"},\n                            {\n                            cond: (context) => context.count === 1,\n                            target: \"prompt1\"},\n            \n                            { target: \"prompt2\",\n                            cond: (context) => context.count === 2},\n            \n                            { target: \"prompt3\",\n                            cond: (context) => context.count === 3},\n                        \n                            { target: \"#root.dm.init\",\n                            cond: (context) => context.count === 4},   \n                        ]}\n                    },\n                }\n            },\n \t        confirm_time: {\n                initial: \"prompt\",\n                on:  {\n                    RECOGNISED: [{cond: (context) => (boolGrammar[context.recResult] === false),\n                        target: \"who\",\n                        actions: cancel('maxsp')\n                        },\n                        {cond: (context) => (boolGrammar[context.recResult] === true),\n                        target: \"#confirmed\",\n                        actions: cancel('maxsp')\n                        },\n                        { target: \".maxspeech\",\n                        actions: cancel('maxsp'),\n                        cond: (context) => !(context.recResult === 'help') }],\n                    MAXSPEECH: '.maxspeech'\n                },\n                states: {\n                    prompt: {entry: confirm, ...promptAndAsk(\"Do you want to create this meeting?\")\n                    },\n                    prompt1: {entry: confirm,\n                        ...promptAndAsk(\"Are your sure you want to create this meeting?\")\n                    },\n                    prompt2: {entry: confirm,\n                        ...promptAndAsk(\"Do you want me to create this appointment?\")\n                    },\n                    prompt3: {entry: confirm,\n                        ...promptAndAsk(\"Ok, last chance. Do you want to create this meeting?\")\n                    },\n                    maxspeech: {\n                        entry: say(\"Sorry\"),\n                        on: { ENDSPEECH : [{\n                            cond: (context) => context.count === 0,\n                            target: \"prompt\"},\n                            {\n                            cond: (context) => context.count === 1,\n                            target: \"prompt1\"},\n            \n                            { target: \"prompt2\",\n                            cond: (context) => context.count === 2},\n            \n                            { target: \"prompt3\",\n                            cond: (context) => context.count === 3},\n                        \n                            { target: \"#root.dm.init\",\n                            cond: (context) => context.count === 4},  \n                                ]}\n                            },\n                        },\n                    },\n                }\n            },\n            confirmed: {\n                id: 'confirmed',\n                initial: \"prompt\",\n                on: { ENDSPEECH: \"#root.dm.init\" },\n                states: {\n                    prompt: {\n                        entry: send((context) => ({\n                            type: \"SPEAK\",\n                            value: `Your appointment has been created!`\n                        }))\n                    },\n                }\n            }\n        } \n    })\n\n\n\n\n\n ","import \"./styles.scss\";\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { Machine, assign, send, State, actions } from \"xstate\";\r\nimport { useMachine, asEffect } from \"@xstate/react\";\r\nimport { inspect } from \"@xstate/inspect\";\r\nimport { dmMachine } from \"./dmAppointmentPlus\";\r\n//import { dmMachine } from \"./dmSmartHome\";\r\n//import { cancel } from \"xstate/lib/actionTypes\";\r\n\r\n\r\ninspect({\r\n    url: \"https://statecharts.io/inspect\",\r\n    iframe: false\r\n});\r\n\r\nimport { useSpeechSynthesis, useSpeechRecognition } from 'react-speech-kit';\r\n\r\n\r\nconst machine = Machine<SDSContext, any, SDSEvent>({\r\n    id: 'root',\r\n    type: 'parallel',\r\n    states: {\r\n        dm: {\r\n            ...dmMachine\r\n        },\r\n        asrtts: {\r\n            initial: 'idle',\r\n            states: {\r\n                idle: {\r\n                    on: {\r\n                        LISTEN: 'recognising',\r\n                        SPEAK: {\r\n                            target: 'speaking',\r\n                            actions: assign((_context, event) => { return { ttsAgenda: event.value } })\r\n                        }\r\n                    }\r\n                },\r\n                recognising: {\r\n                    initial: 'progress',\r\n                    entry: 'recStart',\r\n                    exit: 'recStop',\r\n                    on: {\r\n                        ASRRESULT: {\r\n                            actions: ['recLogResult',\r\n                                assign((_context, event) => { return { recResult: event.value } })],\r\n                            target: '.match'\r\n                        },\r\n                        RECOGNISED: { target: 'idle', actions: 'cancel'},\r\n                        MAXSPEECH: 'idle',\r\n                    },\r\n                    states: {\r\n                        progress: {\r\n                        },\r\n                        match: {\r\n                            entry: send('RECOGNISED'),\r\n                        },\r\n                    }\r\n                },\r\n                speaking: {\r\n                    entry: 'ttsStart',\r\n                    on: {\r\n                        ENDSPEECH: 'idle',\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n},\r\n    {\r\n        actions: {\r\n            recLogResult: (context: SDSContext) => {\r\n                /* context.recResult = event.recResult; */\r\n                console.log('<< ASR: ' + context.recResult);\r\n            },\r\n            test: () => {\r\n                console.log('test')\r\n            },\r\n            logIntent: (context: SDSContext) => {\r\n                /* context.nluData = event.data */\r\n                console.log('<< NLU intent: ' + context.nluData.intent.name)\r\n            }\r\n        },\r\n    });\r\n\r\n\r\n\r\ninterface Props extends React.HTMLAttributes<HTMLElement> {\r\n    state: State<SDSContext, any, any, any>;\r\n}\r\nconst ReactiveButton = (props: Props): JSX.Element => {\r\n    switch (true) {\r\n        case props.state.matches({ asrtts: 'recognising' }):\r\n            return (\r\n                <button type=\"button\" className=\"glow-on-hover\"\r\n                    style={{ animation: \"glowing 20s linear\" }} {...props}>\r\n                    Listening...\r\n                </button>\r\n            );\r\n        case props.state.matches({ asrtts: 'speaking' }):\r\n            return (\r\n                <button type=\"button\" className=\"glow-on-hover\"\r\n                    style={{ animation: \"bordering 1s infinite\" }} {...props}>\r\n                    Speaking...\r\n                </button>\r\n            );\r\n        default:\r\n            return (\r\n                <button type=\"button\" className=\"glow-on-hover\" {...props}>\r\n                    Click to start\r\n                </button >\r\n            );\r\n    }\r\n}\r\n\r\nfunction App() {\r\n    const { speak, cancel, speaking } = useSpeechSynthesis({\r\n        onEnd: () => {\r\n            send('ENDSPEECH');\r\n        },\r\n    });\r\n    const { listen, listening, stop } = useSpeechRecognition({\r\n        onResult: (result: any) => {\r\n            send({ type: \"ASRRESULT\", value: result });\r\n        },\r\n    });\r\n    const [current, send, service] = useMachine(machine, {\r\n        devTools: true,\r\n        actions: {\r\n            recStart: asEffect(() => {\r\n                console.log('Ready to receive a color command.');\r\n                listen({\r\n                    interimResults: false,\r\n                    continuous: true\r\n                });\r\n            }),\r\n            recStop: asEffect(() => {\r\n                console.log('Recognition stopped.');\r\n                stop()\r\n            }),\r\n            changeColour: asEffect((context) => {\r\n                console.log('Repainting...');\r\n                document.body.style.background = context.recResult;\r\n            }),\r\n            ttsStart: asEffect((context, effect) => {\r\n                console.log('Speaking...');\r\n                speak({ text: context.ttsAgenda })\r\n            }),\r\n            ttsCancel: asEffect((context, effect) => {\r\n                console.log('TTS STOP...');\r\n                cancel()\r\n            })\r\n            /* speak: asEffect((context) => {\r\n\t     * console.log('Speaking...');\r\n             *     speak({text: context.ttsAgenda })\r\n             * } */\r\n        }\r\n    });\r\n\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <ReactiveButton state={current} onClick={() => send('CLICK')} />\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\n\r\n/* RASA API\r\n *  */\r\nconst proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\nconst rasaurl = 'https://rasa-nlu-api-00.herokuapp.com/model/parse'\r\nconst nluRequest = (text: string) =>\r\n    fetch(new Request(proxyurl + rasaurl, {\r\n        method: 'POST',\r\n        headers: { 'Origin': 'http://maraev.me' }, // only required with proxy\r\n        body: `{\"text\": \"${text}\"}`\r\n    }))\r\n        .then(data => data.json());\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n    <App />,\r\n    rootElement);"],"sourceRoot":""}